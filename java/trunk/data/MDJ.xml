<?xml version="1.0" encoding="UTF-8"?>
<mdj:GameDescription endCondition="end" onTurnCondition="move" xmlns:mdj="http://www.example.org/MDJ" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/MDJ ../../bin/data/MDJ.xsd ">

  <mdj:GameCharacter controller="AI" name="square">
    <mdj:Palette>
      <mdj:ImageBoard location="http://tempuri.org" name="square" tileHeight="20" tileWidth="20"/>
    </mdj:Palette>
    <mdj:Stats>
    	<mdj:DefaultStats>default</mdj:DefaultStats>
    </mdj:Stats>
  </mdj:GameCharacter>
  
  <mdj:Level blueprint="http://tempuri.org" name="level">
    <mdj:Palette>
      <mdj:ImageBoard location="http://tempuri.org" name="blueprint" tileHeight="200" tileWidth="200"/>
    </mdj:Palette>
  </mdj:Level>
  
  <mdj:GameCondition actionPalette="default" memberOfActionPalette="default" name="flipX-FE">
    <mdj:Condition type="greaterOrEqual">
      <mdj:FirstArg>
        <mdj:Subject property="value" stat="x"/>
      </mdj:FirstArg>
      <mdj:SecondArg>
        <mdj:Subject property="max" stat="x"/>
      </mdj:SecondArg>
    </mdj:Condition>
    <mdj:ActionsPerformed>revDx</mdj:ActionsPerformed>
  </mdj:GameCondition>
  
  <mdj:GameCondition actionPalette="default" memberOfActionPalette="default" name="flipY-FE">
    <mdj:Condition type="greaterOrEqual">
      <mdj:FirstArg>
        <mdj:Subject property="value" stat="y"/>
      </mdj:FirstArg>
      <mdj:SecondArg>
        <mdj:Subject property="max" stat="y"/>
      </mdj:SecondArg>
    </mdj:Condition>
    <mdj:ActionsPerformed>revDy</mdj:ActionsPerformed>
  </mdj:GameCondition>
  
  <mdj:GameCondition actionPalette="default" memberOfActionPalette="default" name="flipX-NE">
    <mdj:Condition type="lessOrEqual">
      <mdj:FirstArg>
        <mdj:Subject property="value" stat="x"/>
      </mdj:FirstArg>
      <mdj:SecondArg>
        <mdj:Subject property="min" stat="x"/>
      </mdj:SecondArg>
    </mdj:Condition>
    <mdj:ActionsPerformed>revDx</mdj:ActionsPerformed>
  </mdj:GameCondition>
  
  <mdj:GameCondition actionPalette="default" memberOfActionPalette="default" name="flipY-NE">
    <mdj:Condition type="lessOrEqual">
      <mdj:FirstArg>
        <mdj:Subject property="value" stat="y"/>
      </mdj:FirstArg>
      <mdj:SecondArg>
        <mdj:Subject property="min" stat="y"/>
      </mdj:SecondArg>
    </mdj:Condition>
    <mdj:ActionsPerformed>revDy</mdj:ActionsPerformed>
  </mdj:GameCondition>
  
  <mdj:GameCondition name="move">
  
  	<mdj:Condition type="lessThan">
  		<mdj:FirstArg>
  			<mdj:Subject stat="bounces" property="value" />
  		</mdj:FirstArg>
  		<mdj:SecondArg>
  			<mdj:Subject stat="bounces" property="max" />
  		</mdj:SecondArg>
  	</mdj:Condition>
  	
  	<mdj:ActionsPerformed>incriX</mdj:ActionsPerformed>
  	<mdj:ActionsPerformed>incriY</mdj:ActionsPerformed>
  	<mdj:ActionsPerformed>flipX-NE</mdj:ActionsPerformed>
  	<mdj:ActionsPerformed>flipX-FE</mdj:ActionsPerformed>
  	<mdj:ActionsPerformed>flipY-NE</mdj:ActionsPerformed>
  	<mdj:ActionsPerformed>flipY-FE</mdj:ActionsPerformed>
  	
  </mdj:GameCondition>
  
  <mdj:GameCondition name="end">
  	<mdj:Condition type="greaterOrEqual">
  		<mdj:FirstArg>
  			<mdj:Subject stat="bounces" property="value" />
  		</mdj:FirstArg>
  		<mdj:SecondArg>
  			<mdj:Subject stat="bounces" property="max" />
  		</mdj:SecondArg>
  	</mdj:Condition>
  </mdj:GameCondition>

  <mdj:DefaultStats name="default">
    <mdj:Stats>
      <mdj:Stat max="200" min="0" name="x" nominal="10" value="100" type="int"/>
      <mdj:Stat max="200" min="0" name="y" nominal="10" value="10" type="int"/>
      <mdj:Stat max="10" min="-10" name="dx" nominal="1" value="1" type="int"/>
      <mdj:Stat max="10" min="-10" name="dy" nominal="1" value="1" type="int"/>
      <mdj:Stat	max="20" name="bounces" min="0" value="0" nominal="0" type="int" />
    </mdj:Stats>
  </mdj:DefaultStats>
  
  <mdj:ActionPalette name="default">
  
    <mdj:Action name="incriX" type="add">
      <mdj:TargetStat>
      	<mdj:Subject property="value" stat="x"/>
      </mdj:TargetStat>
      <mdj:FirstArgument>
        <mdj:Subject property="value" stat="x"/>
      </mdj:FirstArgument>
      <mdj:SecondArgument>
        <mdj:Subject property="value" stat="dx"/>
      </mdj:SecondArgument>
    </mdj:Action>
    
    <mdj:Action name="incriY" type="add">
      <mdj:TargetStat>
      	<mdj:Subject property="value" stat="y"/>
      </mdj:TargetStat>
      <mdj:FirstArgument>
        <mdj:Subject property="value" stat="y"/>
      </mdj:FirstArgument>
      <mdj:SecondArgument>
        <mdj:Subject property="value" stat="dy"/>
      </mdj:SecondArgument>
    </mdj:Action>
    
    <mdj:Action name="revDx" type="multiply">
    	<mdj:TargetStat>
    		<mdj:Subject stat="dx" property="value" />
    	</mdj:TargetStat>
    	<mdj:FirstArgument>
    		<mdj:Subject stat="dx" property="value" />
    	</mdj:FirstArgument>
    	<mdj:SecondArgument>
    		<mdj:Number>-1</mdj:Number>
    	</mdj:SecondArgument>
    </mdj:Action>
    
    <mdj:Action name="revDy" type="multiply">
    	<mdj:TargetStat>
    		<mdj:Subject stat="dy" property="value" />
    	</mdj:TargetStat>
    	<mdj:FirstArgument>
    		<mdj:Subject stat="dy" property="value" />
    	</mdj:FirstArgument>
    	<mdj:SecondArgument>
    		<mdj:Number>-1</mdj:Number>
    	</mdj:SecondArgument>
    </mdj:Action>
    
  </mdj:ActionPalette>
  
</mdj:GameDescription>
